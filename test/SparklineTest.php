<?php
spl_autoload_register(function ($class) {
	$file = '../classes/' . str_replace('Cogitatio/', '', str_replace('\\','/',$class)) . '.php';
	if (file_exists($file))
    include $file;
});
use Cogitatio\Sparkline\Sparkline;

class StackTest extends \PHPUnit_Framework_TestCase
{
	/**
	 * @dataProvider simpleLines
	 */
    public function testSimpleLinewithSvgRenderer($pattern, $values)
    {
        $sparkline = new Sparkline(100, 100);
		$sparkline->addDataSet($values, 'test');

		$sparkline->addSpark('line', array('test'));
		$this->assertEquals(1, preg_match($pattern, $sparkline->render()));
    }

    public function simpleLines()
    {
    	return array(
    		array(
    			'/0,100L100,0/', 
    			array(
					array(0, 0),
					array(100, 100)
				)
			),array(
    			'/0,100L100,0/', 
    			array(
					array(0, 0),
					array(200, 100)
				)
			),
			array(
    			'/0,100L100,0/', 
    			array(
					array(20, 0),
					array(100, 100)
				)
			),
			array(
    			'/0,100L50,0,100,100/', 
    			array(
					array(0, 0),
					array(50, 100),
					array(100, 0)
				)
			)
    	);
    }
}


// $sparkline->addDataSet(array ( 
// 	0 => array ( 0 => 1385964206, 1 => '21.3769', ), 
// 	1 => array ( 0 => 1385964511, 1 => '21.3769', ), 
// 	2 => array ( 0 => 1385964817, 1 => '21.3769', ), 
// 	3 => array ( 0 => 1385965122, 1 => '21.3769', ), 
// 	4 => array ( 0 => 1385965428, 1 => '21.3769', ), 
// 	5 => array ( 0 => 1385965734, 1 => '21.3769', ), 
// 	6 => array ( 0 => 1385966040, 1 => '21.3765', ), 
// 	7 => array ( 0 => 1385966345, 1 => '21.3768', ), 
// 	8 => array ( 0 => 1385966651, 1 => '21.3769', ), 
// 	9 => array ( 0 => 1385966957, 1 => '21.3769', ), 
// 	10 => array ( 0 => 1385967262, 1 => '21.3769', ), 
// 	11 => array ( 0 => 1385967568, 1 => '21.3769', ), 
// 	12 => array ( 0 => 1385967874, 1 => '21.3769', ), 
// 	13 => array ( 0 => 1385968179, 1 => '21.3769', ), 
// 	14 => array ( 0 => 1385968485, 1 => '18.7255', ), 
// 	15 => array ( 0 => 1385968790, 1 => '12.6508', ), 
// 	16 => array ( 0 => 1385969096, 1 => '12.6508', ), 
// 	17 => array ( 0 => 1385969402, 1 => '12.6508', ), 
// 	18 => array ( 0 => 1385969707, 1 => '12.6508', ), 
// 	19 => array ( 0 => 1385970013, 1 => '12.6609', ), 
// 	20 => array ( 0 => 1385970319, 1 => '12.6593', ), 
// 	21 => array ( 0 => 1385970625, 1 => '12.6696', ), 22 => array ( 0 => 1385970931, 1 => '12.6418', ), 23 => array ( 0 => 1385971236, 1 => '12.6392', ), 24 => array ( 0 => 1385971542, 1 => '12.6362', ), 25 => array ( 0 => 1385971848, 1 => '12.6362', ), 26 => array ( 0 => 1385972154, 1 => '42.9824', ), 27 => array ( 0 => 1385972460, 1 => '46.2432', ), 28 => array ( 0 => 1385972765, 1 => '46.5425', ), 29 => array ( 0 => 1385973071, 1 => '12.7975', ), 30 => array ( 0 => 1385973377, 1 => '16.2416', ), 31 => array ( 0 => 1385973683, 1 => '17.1133', ), 32 => array ( 0 => 1385973989, 1 => '17.9504', ), 33 => array ( 0 => 1385974295, 1 => '18.6122', ), 34 => array ( 0 => 1385974601, 1 => '19.0521', ), 35 => array ( 0 => 1385974907, 1 => '20.8242', ), 36 => array ( 0 => 1385975212, 1 => '22.1053', ), 37 => array ( 0 => 1385975518, 1 => '22.3160', ), 38 => array ( 0 => 1385975824, 1 => '19.8388', ), 39 => array ( 0 => 1385976130, 1 => '19.9550', ), 40 => array ( 0 => 1385976435, 1 => '20.1068', ), 41 => array ( 0 => 1385976742, 1 => '18.9704', ), 42 => array ( 0 => 1385977048, 1 => '19.0729', ), 43 => array ( 0 => 1385977354, 1 => '19.1998', ), 44 => array ( 0 => 1385977660, 1 => '18.4090', ), 45 => array ( 0 => 1385977966, 1 => '70.7338', ), 46 => array ( 0 => 1385978272, 1 => '56.6631', ), ), 'dax');

// $sparkline->addDataSet(array ( 0 => array ( 0 => 1385964206, 1 => '30.1464', ), 1 => array ( 0 => 1385964511, 1 => '30.1464', ), 2 => array ( 0 => 1385964817, 1 => '30.1464', ), 3 => array ( 0 => 1385965122, 1 => '30.1464', ), 4 => array ( 0 => 1385965428, 1 => '30.1464', ), 5 => array ( 0 => 1385965734, 1 => '30.1464', ), 6 => array ( 0 => 1385966040, 1 => '30.1464', ), 7 => array ( 0 => 1385966345, 1 => '30.1464', ), 8 => array ( 0 => 1385966651, 1 => '30.1464', ), 9 => array ( 0 => 1385966957, 1 => '30.1464', ), 10 => array ( 0 => 1385967262, 1 => '30.1464', ), 11 => array ( 0 => 1385967568, 1 => '30.1464', ), 12 => array ( 0 => 1385967874, 1 => '30.1464', ), 13 => array ( 0 => 1385968179, 1 => '30.1464', ), 14 => array ( 0 => 1385968485, 1 => '30.8871', ), 15 => array ( 0 => 1385968790, 1 => '74.7103', ), 16 => array ( 0 => 1385969096, 1 => '74.7103', ), 17 => array ( 0 => 1385969402, 1 => '74.7103', ), 18 => array ( 0 => 1385969707, 1 => '74.7103', ), 19 => array ( 0 => 1385970013, 1 => '74.7103', ), 20 => array ( 0 => 1385970319, 1 => '74.7103', ), 21 => array ( 0 => 1385970625, 1 => '74.7103', ), 22 => array ( 0 => 1385970931, 1 => '74.7103', ), 23 => array ( 0 => 1385971236, 1 => '74.7103', ), 24 => array ( 0 => 1385971542, 1 => '74.7103', ), 25 => array ( 0 => 1385971848, 1 => '74.7103', ), 26 => array ( 0 => 1385972460, 1 => '0.0000', ), 27 => array ( 0 => 1385972765, 1 => '0.0000', ), 28 => array ( 0 => 1385973071, 1 => '33.5664', ), 29 => array ( 0 => 1385973377, 1 => '37.8575', ), 30 => array ( 0 => 1385973683, 1 => '37.4265', ), 31 => array ( 0 => 1385973989, 1 => '75.1598', ), 32 => array ( 0 => 1385974295, 1 => '49.3068', ), 33 => array ( 0 => 1385974601, 1 => '48.5720', ), 34 => array ( 0 => 1385974907, 1 => '49.4799', ), 35 => array ( 0 => 1385975212, 1 => '46.6411', ), 36 => array ( 0 => 1385975518, 1 => '43.6083', ), 37 => array ( 0 => 1385975824, 1 => '20.9905', ), 38 => array ( 0 => 1385976130, 1 => '18.8227', ), 39 => array ( 0 => 1385976435, 1 => '20.0170', ), 40 => array ( 0 => 1385976742, 1 => '47.4801', ), 41 => array ( 0 => 1385977048, 1 => '44.7328', ), 42 => array ( 0 => 1385977354, 1 => '44.8943', ), 43 => array ( 0 => 1385977660, 1 => '45.6335', ), 44 => array ( 0 => 1385977966, 1 => '38.0699', ), 45 => array ( 0 => 1385978272, 1 => '38.3041', ), ), 'dax');

 // $sparkline->addDataSet(array ( 0 => array ( 0 => 1385971236, 1 => '74.7103', ), 1 => array ( 0 => 1385971542, 1 => '74.7103', ), 2 => array ( 0 => 1385971848, 1 => '74.7103', ), 3 => array ( 0 => 1385972460, 1 => '0.0000', ), 4 => array ( 0 => 1385972765, 1 => '7.0000', ), 5 => array ( 0 => 1385973071, 1 => '33.5664', ), 6 => array ( 0 => 1385973377, 1 => '37.8575', ), 7 => array ( 0 => 1385973683, 1 => '37.4265', ), 8 => array ( 0 => 1385973989, 1 => '75.1598', ), 9 => array ( 0 => 1385974295, 1 => '49.3068', ), 10 => array ( 0 => 1385974601, 1 => '48.5720', ), 11 => array ( 0 => 1385974907, 1 => '49.4799', ), 12 => array ( 0 => 1385975212, 1 => '46.6411', ), 13 => array ( 0 => 1385975518, 1 => '43.6083', ), 14 => array ( 0 => 1385975824, 1 => '20.9905', ), 15 => array ( 0 => 1385976130, 1 => '18.8227', ), 16 => array ( 0 => 1385976435, 1 => '20.0170', ), 17 => array ( 0 => 1385976742, 1 => '47.4801', ), 18 => array ( 0 => 1385977048, 1 => '44.7328', ), 19 => array ( 0 => 1385977354, 1 => '44.8943', ), 20 => array ( 0 => 1385977660, 1 => '45.6335', ), 21 => array ( 0 => 1385977966, 1 => '38.0699', ), 22 => array ( 0 => 1385978272, 1 => '38.3041', ), ), 'dax');
// $sparkline->addDataSet(array(
// 	array(100, 0),
// 	array(200, 50)
// ), 'dax');


